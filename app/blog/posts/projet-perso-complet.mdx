---
title: 'App de Todo List avec une architecture complexifiée'
publishedAt: '2025-05-20'
modifiedAt: '2025-10-26'
summary: 'Projet simple de Todo List me permettant de pratiquer et d'apprendre de nouvelles choses.'
---

## L'app

C'est une application simple de Todo List offrant la possibilité de créer des listes de tâches, d'ajouter des tâches à ces listes, de marquer les tâches comme terminées et d'archiver les listes.

Cependant le but principal de ce projet est de pratiquer et d'intégrer différentes technologies même si elles vont sembler complexifier inutilement, tout en mettant en place des bonnes pratiques lié au développement et déploiement, comme les tests à différents niveaux et les pipelines CI/CD.

Dans cette page je vais décrire les fonctionnalités actuelles de l'application ainsi que les technologies utilisées, c'est une page qui évoluera en fonction de l'avancement du projet.

[Lien](https://github.com/sylvaindelarche/todo-app) vers le projet avec des détails techniques pour l'installation et l'utilisation de l'application.
## Fonctionnalités & technologies

### Backend

J'utilise Java avec le framework Spring Boot pour développer l'API REST de l'application. Premièrement, il gère les opérations CRUD pour les listes et les tâches, ainsi que l'archivage des listes. De plus, l'API fournit des points de terminaison pour récupérer les journaux d'activité (derniers ou tous) et les métriques de performance, pour l'instant avec une basique. (voir Prometheus).

Etant donné que Spring encourage un design MVC (Model-View-Controller) pour une séparation de responsabilités avec les concepts suivants : contrôleurs, répositories et modèles. Cela permet également de rendre le code plus maintenable et testable.

J'ai pas mal d'expérience avec Java mais pas spécialement avec Spring Boot, donc c'est aussi l'occasion d'apprendre et de me familiariser avec ce framework très populaire.

### Frontend

J'ai décidé d'utiliser Angular pour le frontend de l'application. L'interface utilisateur permet aux utilisateurs de créer, afficher, mettre à jour et supprimer des listes et des tâches. De plus, les utilisateurs peuvent marquer les tâches comme terminées et archiver les listes.
Angular est un framework que je voulais apprendre depuis un moment, donc c'est une bonne opportunité pour moi de le faire.

### API en place

Core
```ascii
+------------------------+----------+-------------------------------+
|        Feature         | Method   |            Endpoint           |
+------------------------+----------+-------------------------------+
| Create List            | POST     | /lists                        |
| Update List            | PUT      | /lists/{listId}               |
| Archive List           | PATCH    | /lists/{listId}/archive       |
| Remove List            | DELETE   | /lists/{listId}               |
| Get Lists with Tasks   | GET      | /lists                        |
+------------------------+----------+-------------------------------+
| Create Task            | POST     | /lists/{listId}/tasks         |
| Update Task            | PUT      | /tasks/{taskId}               |
| Complete Task          | PATCH    | /tasks/{taskId}/complete      |
| Remove Task            | DELETE   | /tasks/{taskId}               |
+------------------------+----------+-------------------------------+
```

Journals
```ascii
+------------------------+----------+-------------------------------+
|        Feature         | Method   |            Endpoint           |
+------------------------+----------+-------------------------------+
| Get all                | GET      | /journals                     |
| Get latest             | GET      | /journals/latest              |
+------------------------+----------+-------------------------------+
```

Metrics
```ascii
+------------------------+----------+-------------------------------+
|        Feature         | Method   |            Endpoint           |
+------------------------+----------+-------------------------------+
| Get metrics            | GET      | /metrics                      |
+------------------------+----------+-------------------------------+
```

### Dockerisation

Docker est utilisé pour conteneuriser l'application, facilitant ainsi le déploiement et la gestion des différentes composantes. Chaque service décrit dans ce blog est exécuté dans son propre conteneur Docker.
Note: En mode de développement actuellement, la partie serveur du backend et le frontend qui sont exécutés directement sur la machine hôte pour faciliter le développement.

L'avantage est que chaque composant est isolé et fait partie d'un même réseau virtuel, ce qui permet une communication facile entre eux. De plus, Docker Compose est utilisé pour orchestrer et gérer les différents conteneurs, simplifiant ainsi le processus de démarrage et d'arrêt de l'ensemble de l'application.

### Base de données: PostgreSQL

PostgreSQL est utilisé comme base de données relationnelle pour stocker les listes de tâches, les tâches elles-mêmes, ainsi que les journaux d'activité. J'ai choisi PostgreSQL pour sa robustesse, ses performances et son support des fonctionnalités avancées. Même si pour l'instant le modèle de données est assez simple.

Il y a la table `lists` pour les listes de tâches, la table `tasks` pour les tâches, et la table `journals` pour les journaux d'activité.
Une relation un-à-plusieurs est mise en place entre les listes et les tâches, chaque liste pouvant contenir plusieurs tâches.

### Messaging queue: RabbitMQ

RabbitMQ est utilisé comme système de messagerie pour gérer la communication entre les différents services de l'application. Il permet de découpler les services et d'assurer une communication asynchrone, ce qui est particulièrement utile pour les tâches de traitement en arrière-plan.
Dans ce projet, RabbitMQ est utilisé pour envoyer des messages lorsque des listes ou des tâches sont créées, mises à jour ou supprimées, afin de générer des journaux d'activité.
De plus, RabbitMQ est également utilisé pour envoyer des messages à partir de Spark pour compter les mots uniques dans les titres des listes de tâches et les noms des tâches.

### Métriques: Prometheus

Prometheus est utilisé pour collecter des métriques de performance de l'application backend. Actuellement, une métrique basique appelée 'unique_words' pour compter le nombre de mots uniques dans les titres des listes de tâches et les noms des tâches.

### Traitement de données: Apache Spark

Spark est un outil puissant pour le traitement de données en masse. Dans ce projet, il est simplement utilisé pour compter les mots uniques dans les titres des listes de tâches et les noms des tâches. C'est une manière d'intégrer Spark dans l'application et de se familiariser avec son utilisation.

### Divers

Pour chacune des parties de l'application, j'essaye de faire en sorte que peu importe le contexte (développement local, test, production), l'application puisse s'adapter automatiquement en fonction des variables d'environnement. Cela permet une plus grande flexibilité et facilite le déploiement dans différents environnements.
